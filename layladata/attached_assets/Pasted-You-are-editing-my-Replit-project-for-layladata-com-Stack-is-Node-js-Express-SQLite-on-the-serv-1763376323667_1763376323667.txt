You are editing my Replit project for layladata.com. Stack is Node.js + Express + SQLite on the server and a small React/HTML front end. Implement first-party analytics with a clear admin dashboard.

GOAL
I need to know, with certainty:
1) Unique visitors all-time.
2) Unique visitors today.
3) Daily uniques over time (at least last 60 days).
4) A live indicator that increments the moment a new visitor lands.
5) A visible daily goal of 150 uniques with progress to goal.
6) A quick way to verify tracking is working.

DEFINITIONS
- “Unique visitor” means one person per day across the whole site. Use a stable visitor_id created as a salted SHA-256 hash of (client IP, user-agent, and a first-party cookie). Cookie name: LAYLA_VID, expiry 365 days.
- “Page view” is every hit, including repeat views.
- Deduplicate uniques by date(ts) and visitor_id. Provide sitewide counts and per-page breakdowns.

BACK END (Express + SQLite)
1) DB schema (create if missing):
   - visitors(visitor_id TEXT PRIMARY KEY, first_seen DATETIME, last_seen DATETIME)
   - hits(id INTEGER PRIMARY KEY AUTOINCREMENT, ts DATETIME, visitor_id TEXT, path TEXT, referrer TEXT, ua TEXT, is_bot INTEGER DEFAULT 0, utm_source TEXT, utm_medium TEXT, utm_campaign TEXT)
   - indices on hits(ts), hits(path), hits(visitor_id)
2) Bot filter: mark is_bot=1 for common bots by UA ("bot", "spider", "crawler", "headlesschrome"). Exclude is_bot=1 from all metrics.
3) Tracking endpoint:
   POST /api/track
   Body: { path, referrer, ua, screen, utm_source, utm_medium, utm_campaign }
   Server:
   - Read client IP from req.headers["x-forwarded-for"] || req.ip
   - Get or set LAYLA_VID cookie (HttpOnly=false, SameSite=Lax)
   - Compute visitor_id = sha256( SALT + ip + ua + cookieValue )
   - Upsert visitors and insert into hits with current UTC timestamp
   - Return JSON: { ok:true, visitor_id }
4) Analytics endpoints:
   GET /api/analytics/summary
     Returns:
     {
       all_time_uniques,
       today_uniques,
       today_pageviews,
       last_60d: [{date, uniques, pageviews}],
       top_pages: [{path, uniques_7d, pageviews_7d}],
       top_referrers_7d: [{referrer, pageviews}]
     }
   GET /api/analytics/recent?limit=50  -> last N hits (for debugging)
   GET /api/analytics/stream           -> Server-Sent Events pushing { ts, today_uniques } whenever a new non-bot hit is stored
5) Security:
   - Create basic token auth for admin routes via env var ANALYTICS_TOKEN. Requests must send header Authorization: Bearer <token>. Apply to /api/analytics/* and /admin/analytics.
6) Health:
   GET /api/health -> { ok:true, time: <iso> }

FRONT END
1) Client beacon:
   - Inject a tiny script on every page that calls /api/track on load and on history change in SPA contexts.
   - Capture path, document.referrer, navigator.userAgent, screen.{width,height}, and UTM params in URL.
2) Admin dashboard at /admin/analytics (protected with the token):
   - Four tiles:
     • All-time uniques
     • Today’s uniques with a progress bar to daily goal 150
     • Today’s page views
     • Current live visitors (count of active hits in last 5 minutes)
   - One line chart: daily uniques for last 60 days with a faint horizontal goal line at 150.
   - One table: top pages past 7 days with uniques and page views.
   - One table: top referrers past 7 days.
   - One live feed panel: subscribe to /api/analytics/stream and show a tick every time today_uniques increases. This lets me verify immediately.
3) Make the page clean and minimal. Use system fonts and light styling. No external analytics.

TESTING AND VERIFICATION
- Add a visible badge on /admin/analytics that shows “LIVE” when SSE is connected and increments the “Today uniques” number in real time.
- Add a small “Debug” drawer showing the last 10 recent hits from /api/analytics/recent with ts, path, visitor_id (first 6 chars), and referrer.
- Provide a simple script snippet I can run in the browser console to simulate a hit:
  fetch('/api/track',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({path:'/test',referrer:document.referrer,ua:navigator.userAgent})})
- Provide a curl example in the README for remote testing.

CONFIG
- ENV VARS: ANALYTICS_TOKEN=xxxxx, ANALYTICS_SALT=xxxxxx, DAILY_GOAL=150
- If the app sits behind a proxy, ensure app.set('trust proxy', true) so IPs are captured.
- Store everything in SQLite file /data/analytics.sqlite and auto-migrate on start.

ACCEPTANCE CRITERIA
- Visiting the site in a fresh incognito window increases “Today uniques” by 1 within a second and shows in the live feed.
- /api/analytics/summary returns correct JSON with today_uniques, all_time_uniques, and last_60d array.
- Dashboard shows progress to 150 with a percentage and a green state once the goal is met.
- Bot hits do not change today_uniques.
- Admin routes require the Bearer token.

DELIVERABLES
- Updated server routes and DB migration code.
- Client beacon script included site-wide.
- New /admin/analytics React page.
- README section titled “Analytics” with instructions, curl commands, and how to set env vars on Replit.

Please implement the above, refactor neatly, and commit with the message: "Add first-party analytics with uniques, daily goal, and live verification".